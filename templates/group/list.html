{% extends "base.html" %}

{% block head %}
<a class="navbar-brand fs-2" href="/group/{{ group.name }}">{{ group.display_name }}</a>
<p>{{ group.desc }}</p>
{% endblock head %}

{% block nav %}
<ol class="breadcrumb">
  <li class="breadcrumb-item"><a href="/">Home</a></li>
  <li class="breadcrumb-item"><a href="/group">Group</a></li>
  <li class="breadcrumb-item active" aria-current="page">{{ group.display_name }}</li>
</ol>
{% endblock nav %}

{% block menu %}{% include "group/menu.html" %}{% endblock menu %}

{% block content %}
<div class="page-summary">
  <p>{% autoescape off %}{{ summary_messages }}{% endautoescape %}{% if group_name != "xiangma" %}There are total {{ total_count }} paper(s).{% else %}共有 {{ total_count }} 篇文献。{% endif %}</p>
</div>
{% if paper_list %}

{% if paper_list.paginator.num_pages > 1 %}
<nav>
  <ul class="pagination justify-content-center">
    <li class="page-item">
      {% if paper_list.has_previous %}
      <a class="page-link" href="?page={{ paper_list.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
      {% else %}
      <a class="page-link disabled" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
      {% endif %}
    </li>
    {% for i in paper_list.adjusted_elided_pages %}
    {% if i == paper_list.paginator.ELLIPSIS %}
    <li class="page-item"><a class="page-link disabled">{{ i }}</a></li>
    {% elif i == paper_list.number %}
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="#">{{ i }}</a>
    </li>
    {% else %}
    <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
    {% endif %}
    {% endfor %}
    <li class="page-item">
      {% if paper_list.has_next %}
      <a class="page-link" href="?page={{ paper_list.next_page_number }}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
      {% else %}
      <a class="page-link disabled" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
      {% endif %}
    </li>
  </ul>
</nav>
{% endif %}

{% for paper in paper_list %}
<div class="paper-item">
  {% include "group/paper-item-as-card.html" %}
</div>
{% endfor %}
{% else %}
<p style="padding:20px; height:200px;">No paper is available.</p>
{% endif %}
{% endblock content %}
